// A bit like Japanese Popstars
// script @by jimthurston
// https://strudel.cc/#Ly8gQSBiaXQgbGlrZSBKYXBhbmVzZSBQb3BzdGFycwovLyBzY3JpcHQgQGJ5IGppbXRodXJzdG9uCgpzZXRjcG0oMTIwLzQpCgokOiBzb3VuZCgiYmQqNCIpLmJhbmsoInRyOTA5IikKJDogc291bmQoIlt%2BIHNkXSoyLCB%2BITEzIHNkIikuYmFuaygiYWprcGVyY3VzeW4iKQokOiBzb3VuZCgiaGgqMTYiKS5iYW5rKCI5MDAwIikuZ2FpbihzaW5lLnJhbmdlKDAuMSwgMC4yNSkuZmFzdCg0KSkKCiQ6IG5vdGUoYDwKfiB%2BIH4gZDRAMiB%2BIGE0QDIgZzRAMiB%2BIH4gZTRAMiB%2BIH4KfiB%2BIH4gZiM0QDIgfiBkNEAyIGM0QDIgfiB%2BIGEzQDIgfiB%2BCj4qMTZgKQogIC5zb3VuZCgiZ21fbGVhZF8xX3NxdWFyZSIpCi8vICAuYXR0YWNrKDAuMDcpCi8vICAuZGVjYXkoMC4yNSkKICAubHBmKHNpbmUucmFuZ2UoMSwgNDAwMCkuZmFzdCg4KSkKICAubHBhKDUwMCkK

setcpm(120/4)

$: sound("bd*4").bank("tr909")
$: sound("[~ sd]*2, ~!13 sd").bank("ajkpercusyn")
$: sound("hh*16").bank("9000").gain(sine.range(0.1, 0.25).fast(4))

$: note(`<
~ ~ ~ d4@2 ~ a4@2 g4@2 ~ ~ e4@2 ~ ~
~ ~ ~ f#4@2 ~ d4@2 c4@2 ~ ~ a3@2 ~ ~
>*16`)
  .sound("gm_lead_1_square")
//  .attack(0.07)
//  .decay(0.25)
  .lpf(sine.range(1, 4000).fast(8))
  .lpa(500)
